{
  "info": {
    "_postman_id": "865be277-28b6-44aa-a535-280930c643d3",
    "name": "StuffLynk Ecosystem - Production API",
    "description": "Standardized API test suite for StuffLynk Backend. Automated status and schema validation included.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Auth",
      "item": [
        {
          "name": "Register User",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Admin Stufflynk\",\n  \"email\": \"admin@test.com\",\n  \"password\": \"123\",\n  \"role\": \"admin\"\n}",
              "options": { "raw": { "language": "json" } }
            },
            "url": { "raw": "{{base_url}}/users/register" }
          }
        },
        {
          "name": "Login Session",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "const res = pm.response.json();",
                  "if (res.token) pm.environment.set('token', res.token);",
                  "pm.test('Auth: Token generated', () => pm.expect(res.token).to.be.a('string'));"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@test.com\",\n  \"password\": \"123\"\n}",
              "options": { "raw": { "language": "json" } }
            },
            "url": { "raw": "{{base_url}}/users/login" }
          }
        }
      ]
    },
    {
      "name": "Products",
      "item": [
        {
          "name": "Fetch Catalog",
          "request": {
            "method": "GET",
            "url": { "raw": "{{base_url}}/products" }
          }
        },
        {
          "name": "Store Product",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [{ "key": "token", "value": "{{token}}", "type": "string" }]
            },
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Teclado Mecánico RGB\",\n  \"description\": \"Switches Blue\",\n  \"price\": 75.50,\n  \"category\": \"Periféricos\"\n}",
              "options": { "raw": { "language": "json" } }
            },
            "url": { "raw": "{{base_url}}/products" }
          }
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "test",
      "script": {
        "exec": [
          "pm.test('HTTP/1.1 200 OK', () => pm.response.to.have.status(200));",
          "pm.test('Latency < 800ms', () => pm.expect(pm.response.responseTime).to.be.below(800));"
        ],
        "type": "text/javascript"
      }
    }
  ]
}